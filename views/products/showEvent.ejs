<% layout('layout/boilerplate') -%>


<section class="  container" >
  <%- include("../partials/flash")  %> 
<div class="border p-3 mx-auto w-50 shadow mx-auto" style="margin-top: 5rem;" >
    <h1 class="text-success text-center ">Event Details</h1>
    <div class="border shadow p-2">
    <p class="text-danger">Note: Fields with * are necessary to fill.</p>
    <form action="/event/<%=event._id%>" method="post" class="form-validate" novalidate>
        <div class="mb-3">
            <label for="eventTitle" class="form-label text-danger">Event Tiitle*</label>
            <input type="text" class="form-control" name="eventTitle" id="eventTitle"  value="<%=event.eventTitle%>" required>
            <div class="valid-feedback">
                Looks good!
            </div>
        </div>    
    
        <div class="row g-2">
          <div class="col-md">
            <div class="form-floating">
              <input type="text" class="form-control" id="eventDate" value="<%=event.eventDate%>" required >
              <label for="eventDate" class="text-danger ">Select Event Date*</label>
              <div class="valid-feedback">
                Looks good!
              </div>
            </div>
          </div>
          <div class="col-md">
            <div class="form-floating">
              <select class="form-select" id="eventType" aria-label="Floating label select example" value="<%=event.eventType%>" required>
                <option value="">Select Event Type</option>
                <option value="1">Personal</option>
                <option value="2">Official</option>
                <option value="3">Social</option>
              </select>
              <label for="eventType" class="text-danger" >Event Type*</label>
              <div class="valid-feedback">
                Looks good!
              </div>
            </div>
          </div>
        </div>

             <br>
        <div class="row g-2">
          <div class="col-md">
            <div class="form-floating">
              <input type="time" class="form-control" id="eventStartTime" value="<%=event.eventStartTime%>" required >
              <label for="eventStartTime" class="text-danger">Event Start Time*</label>
              <div class="valid-feedback">
                Looks good!
              </div>
            </div>
          </div>
          <div class="col-md">
            <div class="form-floating">
              <input type="time" class="form-control" id="eventEndTime" value="<%=event.eventEndTime%>" required >
              <label for="eventEndTime" class="text-danger">Event End Time *</label>
              <div class="valid-feedback">
                Looks good!
              </div>
            </div>
          </div>
        </div>


        <div class="mb-3">
          <label for="organiserName" class="form-label text-danger">Organiser Name*</label>
          <input type="text" class="form-control" name="organiserName" id="organiserName"  placeholder="Orgniser Name" value="<%=event.eventOrganiser%>" required>
          <div class="valid-feedback">
              Looks good!
            </div>
      </div>  
        <div class="mb-3">
            <label for="eventDescription" class="form-label text-danger"> Event Description*</label>
            <textarea class="form-control" name="eventDescription" id="eventDescription" rows="3" placeholder="Description about event..." required><%=event.eventDescription%></textarea>
            <div class="valid-feedback">
                Looks good!
            </div>
        </div> 
       <div class="d-flex justify-content-around"> 
        <a href="/event/<%=event._id%>/edit" class="btn btn-warning btn-md  ">Edit</a>
        <button type="submit" class="btn btn-success btn-md">Save</button>
        <a href="/event/<%=event._id%>/delete" class="btn btn-danger btn-md ">Delete</a>

       </div>
      </div> 
    </form>
</div>


<script>
    (function () {
  'use strict'

  // Fetch all the forms we want to apply custom Bootstrap validation styles to
  var forms = document.querySelectorAll('.form-validate')

  // Loop over them and prevent submission
  Array.prototype.slice.call(forms)
    .forEach(function (form) {
      form.addEventListener('submit', function (event) {
        if (!form.checkValidity()) {
          event.preventDefault()
          event.stopPropagation()
        }

        form.classList.add('was-validated')
      }, false)
    })
})()
</script>
<!-- ///////////////////////////////////////////////////////////////////////// -->
</section>